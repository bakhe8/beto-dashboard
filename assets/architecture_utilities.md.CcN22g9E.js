import{_ as i,c as e,o as a,aj as t}from"./chunks/framework.D3ayZeS-.js";const c=JSON.parse('{"title":"Core Utilities","description":"","frontmatter":{"title":"Core Utilities"},"headers":[],"relativePath":"architecture/utilities.md","filePath":"architecture/utilities.md"}'),n={name:"architecture/utilities.md"};function h(l,s,o,d,r,k){return a(),e("div",null,[...s[0]||(s[0]=[t('<h1 id="core-utilities" tabindex="-1">Core Utilities <a class="header-anchor" href="#core-utilities" aria-label="Permalink to &quot;Core Utilities&quot;">​</a></h1><p>This page documents shared utilities introduced to standardize DOM updates, events, and state composition.</p><h2 id="dom-helpers-betodashboard-core-js-dom" tabindex="-1">DOM Helpers (<code>@betodashboard/core/js/dom</code>) <a class="header-anchor" href="#dom-helpers-betodashboard-core-js-dom" aria-label="Permalink to &quot;DOM Helpers (`@betodashboard/core/js/dom`)&quot;">​</a></h2><ul><li><code>setHTML(el, html)</code> — Sanitizes and sets <code>innerHTML</code>.</li><li><code>setText(el, text)</code> — Sets <code>textContent</code>.</li><li><code>setAttrs(el, attrs)</code> — Applies attributes with boolean/null handling.</li><li><code>replaceChildren(el, ...nodes)</code> — Efficient replacement using a <code>DocumentFragment</code>.</li></ul><h2 id="event-delegation-betodashboard-core-js-events" tabindex="-1">Event Delegation (<code>@betodashboard/core/js/events</code>) <a class="header-anchor" href="#event-delegation-betodashboard-core-js-events" aria-label="Permalink to &quot;Event Delegation (`@betodashboard/core/js/events`)&quot;">​</a></h2><ul><li><code>on(root, type, selector, handler)</code> — Delegated listener with cleanup.</li><li><code>onKey(root, key, handler)</code> — Keydown helper filtered by key without selector.</li></ul><p>Example (ThemeSwitcher):</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { on } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@betodashboard/core/js/events&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;button[role=radio]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">_ev</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> next</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (target </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLButtonElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).dataset.theme;</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;light&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dark&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;auto&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;theme&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, next);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="derived-state-betodashboard-core-js-derived" tabindex="-1">Derived State (<code>@betodashboard/core/js/derived</code>) <a class="header-anchor" href="#derived-state-betodashboard-core-js-derived" aria-label="Permalink to &quot;Derived State (`@betodashboard/core/js/derived`)&quot;">​</a></h2><ul><li><code>createDerived(keys, compute, cb?)</code> — Compute values from store keys and subscribe.</li></ul><p>Example:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createDerived } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@betodashboard/core/js/derived&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> themeDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createDerived</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;theme&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dir&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">theme</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">themeDir.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  document.documentElement.dataset.themeDir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="async-action-betodashboard-core-js-asyncaction" tabindex="-1">Async Action (<code>@betodashboard/core/js/asyncAction</code>) <a class="header-anchor" href="#async-action-betodashboard-core-js-asyncaction" aria-label="Permalink to &quot;Async Action (`@betodashboard/core/js/asyncAction`)&quot;">​</a></h2><ul><li><code>createAsyncAction(fn)</code> — Produces <code>{ run, get, subscribe }</code> with status transitions.</li></ul><h2 id="state-slice-betodashboard-core-js-slice" tabindex="-1">State Slice (<code>@betodashboard/core/js/slice</code>) <a class="header-anchor" href="#state-slice-betodashboard-core-js-slice" aria-label="Permalink to &quot;State Slice (`@betodashboard/core/js/slice`)&quot;">​</a></h2><ul><li><code>createSlice(key)</code> — Returns <code>{ get, set, on }</code> for a single store key.</li></ul><h2 id="base-component-betodashboard-core-components-basecomponent" tabindex="-1">Base Component (<code>@betodashboard/core/components/BaseComponent</code>) <a class="header-anchor" href="#base-component-betodashboard-core-components-basecomponent" aria-label="Permalink to &quot;Base Component (`@betodashboard/core/components/BaseComponent`)&quot;">​</a></h2><ul><li>Minimal class to standardize delegated listeners and scoped effects.</li></ul><h2 id="adoption-status" tabindex="-1">Adoption Status <a class="header-anchor" href="#adoption-status" aria-label="Permalink to &quot;Adoption Status&quot;">​</a></h2><ul><li>Sidebar uses <code>setHTML</code>. Other components will adopt these helpers incrementally.</li></ul>',20)])])}const E=i(n,[["render",h]]);export{c as __pageData,E as default};
