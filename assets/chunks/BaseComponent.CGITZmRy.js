var p=Object.defineProperty;var a=(o,s,t)=>s in o?p(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var i=(o,s,t)=>a(o,typeof s!="symbol"?s+"":s,t);class f{constructor(s){i(this,"root");i(this,"disposers",[]);this.root=s}on(s,t,h){const n=c=>{const e=c.target,r=e==null?void 0:e.closest(t);r&&this.root.contains(r)&&h(c,r)};this.root.addEventListener(s,n),this.disposers.push(()=>this.root.removeEventListener(s,n))}effect(s){const t=s();typeof t=="function"&&this.disposers.push(t)}destroy(){for(const s of this.disposers.splice(0))try{s()}catch{}}}export{f as BaseComponent};
