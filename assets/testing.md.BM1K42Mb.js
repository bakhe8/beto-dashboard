import{_ as e,c as i,o as t,aj as a}from"./chunks/framework.D3ayZeS-.js";const g=JSON.parse('{"title":"Testing","description":"","frontmatter":{},"headers":[],"relativePath":"testing.md","filePath":"testing.md"}'),n={name:"testing.md"};function o(l,s,r,h,d,p){return t(),i("div",null,[...s[0]||(s[0]=[a(`<p><a href="./">Docs Index</a> | <a href="./../README.html">Project README</a></p><h1 id="testing" tabindex="-1">Testing <a class="header-anchor" href="#testing" aria-label="Permalink to &quot;Testing&quot;">​</a></h1><p>This project follows a comprehensive testing strategy to ensure code quality, prevent regressions, and maintain accessibility standards. Our testing philosophy is &quot;No feature is done until it&#39;s tested, accessible, and typed.&quot;</p><p>We use a combination of unit, end-to-end (E2E), and accessibility tests.</p><h2 id="unit-tests" tabindex="-1">Unit Tests <a class="header-anchor" href="#unit-tests" aria-label="Permalink to &quot;Unit Tests&quot;">​</a></h2><p>Unit tests are used to validate individual functions, components, and logic in isolation.</p><ul><li><strong>Framework:</strong> <a href="https://vitest.dev/" target="_blank" rel="noreferrer">Vitest</a></li><li><strong>Environment:</strong> <a href="https://github.com/jsdom/jsdom" target="_blank" rel="noreferrer">jsdom</a> to simulate a browser environment.</li><li><strong>Library:</strong> <a href="https://testing-library.com/docs/dom-testing-library/intro/" target="_blank" rel="noreferrer">@testing-library/dom</a> for querying and interacting with components.</li></ul><h3 id="running-unit-tests" tabindex="-1">Running Unit Tests <a class="header-anchor" href="#running-unit-tests" aria-label="Permalink to &quot;Running Unit Tests&quot;">​</a></h3><p>To run all unit tests, use the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><p>To run tests in watch mode during development:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --watch</span></span></code></pre></div><h2 id="end-to-end-e2e-tests" tabindex="-1">End-to-End (E2E) Tests <a class="header-anchor" href="#end-to-end-e2e-tests" aria-label="Permalink to &quot;End-to-End (E2E) Tests&quot;">​</a></h2><p>E2E tests simulate real user workflows by running tests in an actual browser. They are crucial for verifying that components work together correctly and for catching visual regressions.</p><ul><li><strong>Framework:</strong> <a href="https://playwright.dev/" target="_blank" rel="noreferrer">Playwright</a></li><li><strong>Features:</strong> Cross-browser testing and visual regression testing using snapshots.</li></ul><h3 id="running-e2e-tests" tabindex="-1">Running E2E Tests <a class="header-anchor" href="#running-e2e-tests" aria-label="Permalink to &quot;Running E2E Tests&quot;">​</a></h3><p>To run all E2E tests, use the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:e2e</span></span></code></pre></div><p>Run against the production build with strict CSP headers (recommended before release):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:e2e:prod</span></span></code></pre></div><p>Update visual snapshots when intentional UI changes occur:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Update all snapshots</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:e2e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --update-snapshots</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Update only matching tests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:e2e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Modal component should match snapshots&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --update-snapshots</span></span></code></pre></div><p>Stabilize screenshots across machines:</p><ul><li>Disable animations (already done in tests via <code>page.addStyleTag</code>).</li><li>Consider pinning <code>deviceScaleFactor: 1</code> and a fixed <code>viewport</code> in <code>playwright.config.ts</code> under <code>use</code>.</li><li>Force a deterministic font in tests if you see reflow: add a global <code>font-family</code> via <code>page.addStyleTag</code>.</li></ul><h2 id="accessibility-tests" tabindex="-1">Accessibility Tests <a class="header-anchor" href="#accessibility-tests" aria-label="Permalink to &quot;Accessibility Tests&quot;">​</a></h2><p>Accessibility is a core requirement. We use <strong>axe-core</strong> integrated with Playwright to automatically scan for WCAG (Web Content Accessibility Guidelines) violations. These tests are part of our E2E suite (<code>accessibility.spec.ts</code>) and run automatically in CI, failing the build if any serious or critical violations are detected.</p><h2 id="unit-test-configuration" tabindex="-1">Unit Test Configuration <a class="header-anchor" href="#unit-test-configuration" aria-label="Permalink to &quot;Unit Test Configuration&quot;">​</a></h2><ul><li>Config: <code>vitest.config.ts:1</code> (jsdom, setup file, exclusions)</li><li>Setup: <code>src/test-setup.ts:1</code> registers components and custom matchers</li><li>Run coverage: <code>npm run test:coverage</code></li></ul><h2 id="e2e-configuration" tabindex="-1">E2E Configuration <a class="header-anchor" href="#e2e-configuration" aria-label="Permalink to &quot;E2E Configuration&quot;">​</a></h2><ul><li>Dev server config: <code>playwright.config.ts:1</code> (uses Vite dev server)</li><li>Production server config (strict CSP): <code>playwright.config.prod.ts:1</code> (serves <code>dist</code> via Express + Helmet)</li></ul><hr><p>Prev: <a href="./code-style.html">Code Style</a> | Next: <a href="./components/modal.html">Modal</a></p><p>See also: <a href="./">Docs Index</a> | <a href="./../README.html">Project README</a></p>`,33)])])}const u=e(n,[["render",o]]);export{g as __pageData,u as default};
