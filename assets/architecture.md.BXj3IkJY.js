import{_ as a,c as i,o as e,aj as t}from"./chunks/framework.D3ayZeS-.js";const c=JSON.parse('{"title":"Architecture","description":"","frontmatter":{},"headers":[],"relativePath":"architecture.md","filePath":"architecture.md"}'),n={name:"architecture.md"};function l(r,s,h,o,p,d){return e(),i("div",null,[...s[0]||(s[0]=[t(`<p><a href="./">Docs Index</a> | <a href="./../README.html">Project README</a></p><h1 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to &quot;Architecture&quot;">​</a></h1><p>BetoDashboard is built on a few simple, powerful concepts that prioritize performance, type-safety, and developer experience without relying on a heavy framework.</p><h2 id="core-principles" tabindex="-1">Core Principles <a class="header-anchor" href="#core-principles" aria-label="Permalink to &quot;Core Principles&quot;">​</a></h2><ul><li><strong>Zero Dependencies:</strong> The core reactive system and component engine are written in plain TypeScript with no external runtime libraries.</li><li><strong>Declarative HTML:</strong> Components are declared directly in your HTML, making the structure easy to understand and server-render.</li><li><strong>Centralized State:</strong> A single global store manages application state, providing a predictable data flow.</li></ul><h2 id="global-store" tabindex="-1">Global Store <a class="header-anchor" href="#global-store" aria-label="Permalink to &quot;Global Store&quot;">​</a></h2><p>The global store (<code>src/js/store.ts</code>) is the single source of truth for shared application state. It&#39;s a lightweight, reactive object that allows components to read state and subscribe to changes.</p><h3 id="design" tabindex="-1">Design <a class="header-anchor" href="#design" aria-label="Permalink to &quot;Design&quot;">​</a></h3><ul><li><strong>Technology:</strong> A custom pub/sub system built on a <code>Map</code>.</li><li><strong>Reactivity:</strong> When state is updated with <code>store.set()</code>, only the listeners subscribed to that specific key are notified.</li><li><strong>Persistence:</strong> Certain UI-related keys (like <code>theme</code> and <code>sidebar</code>) are automatically persisted to <code>localStorage</code>.</li></ul><h3 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h3><ul><li><code>store.get(key)</code>: Retrieves the current value for a state key.</li><li><code>store.set(key, value)</code>: Updates a key&#39;s value and notifies all its subscribers.</li><li><code>store.on(key, listener)</code>: Subscribes a function to changes for a specific key. Returns an <code>unsubscribe</code> function.</li></ul><h3 id="example-usage" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage" aria-label="Permalink to &quot;Example Usage&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { store } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./js/store&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Subscribe to changes for the &#39;theme&#39; key</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unsubscribe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;theme&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newTheme</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Theme changed to: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">newTheme</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. Update the theme</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;theme&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dark&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;Theme changed to: dark&quot;</span></span></code></pre></div><h2 id="dynamic-component-engine-dce" tabindex="-1">Dynamic Component Engine (DCE) <a class="header-anchor" href="#dynamic-component-engine-dce" aria-label="Permalink to &quot;Dynamic Component Engine (DCE)&quot;">​</a></h2><p>The DCE (<code>src/components/runtime.ts</code>) is a tiny runtime that discovers and mounts components declared in your HTML. It allows for a declarative, low-JavaScript approach to building interactive UIs.</p><h3 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">​</a></h3><ol><li><strong>Declaration:</strong> You declare a component in HTML using a <code>data-component</code> attribute.</li><li><strong>Props &amp; Slots:</strong> Props are passed as a JSON string in <code>data-props</code>, and named slots are defined using <code>&lt;template data-slot=&quot;...&quot;&gt;</code>.</li><li><strong>Mounting:</strong> On page load, <code>mountAll()</code> finds all <code>[data-component]</code> elements, parses their props and slots, and runs the corresponding component constructor function.</li></ol><h3 id="example-usage-1" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage-1" aria-label="Permalink to &quot;Example Usage&quot;">​</a></h3><p><strong>HTML:</strong></p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data-component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Table&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data-props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{&quot;columns&quot;: [{&quot;key&quot;: &quot;name&quot;, &quot;label&quot;: &quot;Name&quot;}]}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> data-slot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;empty&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;No data available.&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><p>Prev: <a href="./getting-started.html">Getting Started</a> | Next: <a href="./api.html">API Fetching</a></p><p>See also: <a href="./">Docs Index</a> | <a href="./../README.html">Project README</a></p>`,23)])])}const g=a(n,[["render",l]]);export{c as __pageData,g as default};
